
Python文件夹中，存储的是当前transformer模型的源码，/data/juno/lin/JUNO/transformer/muon_track_reco_transformer/example/run.sh是启动训练的启动脚本，我需要运用DSA算法来改进这个模型（DSA算法的源码储存在/data/juno/lin/JUNO/transformer/muon_track_reco_transformer/DeepSeek-V3.2-Exp-main中），首先，我需要收集当前transformer模型的attention，然后将这些attention储存在一个txt文件中，请根据我的现有模型帮我创建相关的代码，并写一个启动脚本，脚本的运行记录要记录在一个log文件夹中，这些相关代码文件全部储存在名为attention_collection的文件夹中，输出的attetion数据储存在这个文件夹下名为data的子文件夹中，log文件储存在名为log的子文件夹中，请帮我完成这些代码。

现在我需要你修改我最初的transformer模型代码，添加DSA算法，以优化模型的训练，整个代码你需要在新的文件夹中完成，文件夹命名为transformer_with_dsa，python文件储存在python文件夹中，启动脚本储存在example文件夹中，且让启动参数的改变变成只需要在启动脚本内修改对应变量即可，而不需要在命令后面添加参数说明，日志文件储存在example/log文件夹中，数据使用/data/juno/lin/JUNO/transformer/muon_track_reco_transformer/sample/dataset文件夹中数据，生成的模型文件储存在example/model下储存在以训练开始时间命名的文件夹中，模型文件每50个epoch保存一次（要可以在启动脚本中修改这个参数），同时为了避免模型因为训练意外终止而需要重新开始训练，需要添加一个从上一次训练结果继续训练的功能，请帮我完成这些代码。 

Python文件夹（/data/juno/lin/JUNO/transformer/muon_track_reco_transformer/python）中，存储的是当前transformer模型的源码，/data/juno/lin/JUNO/transformer/muon_track_reco_transformer/example/run.sh是启动训练的启动脚本，我需要运用DSA算法来改进这个模型（DSA算法的源码储存在/data/juno/lin/JUNO/transformer/muon_track_reco_transformer/DeepSeek-V3.2-Exp-main中），我要你基于我的transformer的代码，用尽可能少的代码改动来实现DSA算法的集成，要保留原模型的结构和功能，使用相同的加载数据和评估模型的办法。但同时要在原模型的基础上添加一些功能，在训练时如果要修改训练参数，只需要修改脚本中的参数即可，而不需要在命令行后面添加参数说明，同时要添加一个从上一次训练结果继续训练的功能，模型文件每隔一定epoch保存一次，这个epoch数值可以在脚本中修改，生成的模型文件储存在example/model下储存在以训练开始时间命名的文件夹中，日志文件储存在example/log文件夹中，数据使用/data/juno/lin/JUNO/transformer/muon_track_reco_transformer/sample/dataset文件夹中数据，一定要记得，尽可能的少改动我的原有代码，但启动脚本你可以参考/data/juno/lin/JUNO/transformer/muon_track_reco_transformer/transformer_with_dsa/example/run_training.sh，来完成，所有文件储存在test文件夹中，文件目录可以参考我的源码，请帮我完成这些代码,并运行代码，确保代码能正常运行